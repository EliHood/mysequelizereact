(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(294)},127:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),o=a.n(s),i=(a(127),a(18)),l=a(19),c=a(21),u=a(20),p=a(22),m=a(299),d=a(296),h=a(297),g=a(27),f=a(10),E=a(26),b=a.n(E),v=a(14),w=a.n(v),y=a(42),O=a.n(y),j=a(11),S=a(37),C=a(28),P=a.n(C),A=a(41),x=a(43),k=a.n(x),T=k.a.create({baseURL:"http://localhost:8000",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});T.interceptors.response.use(function(e){return e});var U=T,I=function(e){e?U.defaults.headers.common.Authorization=e:delete U.defaults.headers.common.Authorization},D=a(298),N=a(23),R=function(e){return{root:{flexGrow:1,padding:10},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},chip:{margin:e.spacing.unit},button:{marginLeft:10,margin:0,flexGrow:1,display:"inline-block"},box:{width:"500px"},rightToolbar:{color:"#fff",textDecoration:"none",a:{color:"#fff"}},signIn:{margin:"40px",padding:0,flexGrow:1},signUp:{margin:"40px",padding:0,flexGrow:1},rightt:{marginLeft:"auto",marginRight:24},navRoot:{flexGrow:1},menuButton:{marginRight:16,marginLeft:-12}}},_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{username:"",password:"",passwordConf:"",email:""},passErr:"",regSuccess:!1},a.handleChange=function(e){e.preventDefault();var t=a.state.formData;a.setState({formData:Object(f.a)({},t,Object(g.a)({},e.target.name,e.target.value))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,n=t.username,r=t.email,s=t.password,o=t.passwordConf;a.setState({username:a.state.username,password:a.state.password,passwordConf:a.state.passwordConf,email:a.state.email});var i={username:n,email:r,password:s};s===o?a.props.register(i):a.setState({passErr:"Passwords Don't Match"})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.classes;return t?r.a.createElement(D.a,{to:"/dashboard"}):r.a.createElement(O.a,{justify:"center",container:!0},r.a.createElement(O.a,{item:!0,xs:12,sm:10,md:5},r.a.createElement("div",{className:a.signUp},this.props.error&&r.a.createElement("div",{style:{color:"red"}},this.props.error),this.state.passErr&&r.a.createElement("div",{style:{color:"red"}},this.state.passErr),r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{id:"outlined-name",label:"Username",style:{width:"100%"},name:"username",value:this.state.username,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"outlined-name",label:"Email",className:"",style:{width:"100%"},name:"email",value:this.state.email,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"outlined-name",label:"Password",name:"password",type:"password",style:{width:"100%"},className:"",value:this.state.password,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"outlined-name",label:"Confirm Password",name:"passwordConf",type:"password",style:{width:"100%"},className:"",value:this.state.passwordConf,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(w.a,{m:2,variant:"outlined",color:"primary",type:"submit"},"Sign Up")))))}}]),t}(n.Component),L=Object(N.d)(Object(j.b)(function(e){return{token:e.user.getToken,isAuthenticated:e.user.isAuthenticated,error:e.user.authError}},function(e){return{register:function(t){return e(function(e){return function(t){U.post("/api/users/new",{username:e.username,password:e.password,email:e.email}).then(function(a){var n=a.data.token;localStorage.setItem("auth",n),I(n),console.log(a.data),Ae.push("/dashboard"),t({type:"REG_SUCCESS",user:e})}).catch(function(e){t({type:"REG_FAIL",err:e}),console.log(e.response.data)})}}(t))}}}),Object(S.withStyles)(R))(_),F=function(e){return r.a.createElement(d.a,Object.assign({to:"/Forgot"},e))},G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{username:"",password:""},loggedEmail:"",loginError:"",myToken:"",userLoggedIn:!1,emailBlank:!0,passwordBlank:!0,emailInvalid:!1,passwordInValid:!1},a.handleChange=function(e){e.preventDefault();var t=a.state.formData;a.setState({formData:Object(f.a)({},t,Object(g.a)({},e.target.name,e.target.value))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,n={username:t.username,password:t.password};a.props.logIn(n),console.log(n)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.props.isAuthenticated?r.a.createElement(D.a,{to:"/dashboard"}):r.a.createElement("div",{className:e.signIn},r.a.createElement(O.a,{justify:"center",container:!0},r.a.createElement(O.a,{item:!0,xs:12,sm:"auto",md:4},this.props.error&&r.a.createElement("div",{style:{color:"red"}},this.props.error),r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{id:"outlined-name2",label:"Username",className:"",fullWidth:!0,name:"username",value:this.state.username,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement(b.a,{id:"outlined-name",label:"Password",name:"password",type:"password",fullWidth:!0,className:"",value:this.state.password,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(w.a,{variant:"outlined",color:"primary",type:"submit"},"Log In"),r.a.createElement(w.a,{component:F,variant:"outlined",type:"submit",className:e.button},"Forgot Password ?")))))}}]),t}(n.Component),W=Object(N.d)(Object(j.b)(function(e){return{token:e.user.getToken,isAuthenticated:e.user.isAuthenticated,error:e.user.authError}},function(e){return{logIn:function(t){return e(function(e){return function(t){U.post("/api/users/loginUser",{username:e.username,password:e.password}).then(function(a){var n=a.data.token;localStorage.setItem("auth",n),I(n),Ae.push("/dashboard"),t({type:"SET_USER",user:e})}).catch(function(e){t({type:"LOG_FAIL",err:e}),console.log(e.response.data)})}}(t))}}}),Object(S.withStyles)(R))(G),M=a(38),z=a(300),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();var t=a.state.formData;a.setState({formData:Object(f.a)({},t,Object(g.a)({},e.target.name,e.target.value))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,n=t.title,r=t.postContent;a.setState({title:a.state.title,postContent:a.state.postContent});var s={title:n,postContent:r};a.props.newPost(s),console.log(s)},a.state={formData:{title:"",postContent:"",userId:""},passErr:"",regSuccess:!1},a.handleChange=a.handleChange.bind(Object(M.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(M.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.token)}},{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement("div",{style:{padding:"20px 100px"}},this.props.error&&r.a.createElement("div",{style:{color:"red"}},this.props.error),this.state.passErr&&r.a.createElement("div",{style:{color:"red"}},this.state.passErr),r.a.createElement("h1",null,"New Post"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{id:"outlined-name",label:"Title",style:{width:560},name:"title",value:this.state.title,onChange:this.handleChange,margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(b.a,{id:"outlined-multiline-static",label:"Post Content",name:"postContent",multiline:!0,style:{width:560},rows:"4",value:this.state.postContent,onChange:this.handleChange,defaultValue:"",margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{variant:"outlined",color:"primary",type:"submit"},"Submit"))):r.a.createElement(D.a,{to:"/signIn"})}}]),t}(n.Component),B=Object(z.a)(Object(j.b)(function(e){return{token:e.user.getToken,error:e.post.postError,isAuthenticated:e.user.isAuthenticated}},function(e){return{newPost:function(t){return e(function(e,t){return function(t){U.post("/api/posts/newPost",{title:e.title,post_content:e.postContent}).then(function(a){Ae.push("/Posts"),t({type:"POST_SUCC",post:e})}).catch(function(e){t({type:"POST_FAIL",err:e}),console.log(e.response.data)})}}(t))}}})(J)),V={myPaper:{margin:"20px 0px",padding:"20px"},wrapper:{padding:"0px 60px"},textF:{width:"500px"}},q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.sendEmail=function(e){e.preventDefault();var t={email:a.state.email};console.log(t),a.props.Forget(t)},a.state={email:""},a.handleChange=a.handleChange.bind(Object(M.a)(a)),a.sendEmail=a.sendEmail.bind(Object(M.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email;e.messageFromServer,e.showNullError,e.showError;return r.a.createElement("div",{className:"App",style:V.wrapper},r.a.createElement("h1",null," Forgot Password"),this.props.showError&&r.a.createElement("div",null,r.a.createElement("p",null,"That email address isn't recognized. Please try again or register for a new account.")),"recovery email sent"===this.props.messageFromServer&&r.a.createElement("div",null,r.a.createElement("h3",null,"Password Reset Email Successfully Sent!")),r.a.createElement("form",{className:"profile-form",onSubmit:this.sendEmail},r.a.createElement(b.a,{id:"email",label:"Email",style:V.textF,value:t,onChange:this.handleChange("email"),placeholder:"Email Address"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{variant:"outlined",type:"submit"},"Send Password Reset Email")))}}]),t}(n.Component),H=Object(z.a)(Object(j.b)(function(e){return{showError:e.account.showError,messageFromServer:e.account.messageFromServer}},function(e){return{Forget:function(t){return e(function(e){return function(t){U.post("/api/users/forgotPassword",{email:e.email}).then(function(a){console.log(e.email),console.log(a.data),"recovery email sent"===a.data&&t({type:"FORGOT",creds:e})}).catch(function(e){console.log(e.response.data),"email not in db"===e.response.data&&t({type:"FORGET_ERR",err:e})})}}(t))}}})(q)),Y=a(40),$=a.n(Y),K=a(60),Q=a.n(K),X=a(51),Z=a.n(X),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:""},a.componentWillMount=function(){},a.fetchData=function(){fetch("http://localhost:8000/api/users/auth/github",{method:"GET",mode:"cors"}).then(function(e){console.log(e)}).catch(function(e){})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.props.isAuthenticated?r.a.createElement(D.a,{to:"/dashboard"}):r.a.createElement("div",{className:e.root},r.a.createElement(O.a,{container:!0,justify:"center",spacing:44},r.a.createElement(O.a,{item:!0,sm:7},r.a.createElement($.a,{className:e.paper},r.a.createElement("h1",null,"Sign Up"),r.a.createElement(Z.a,{label:"Sign In with Github",clickable:!0,onClick:this.fetchData,avatar:r.a.createElement(Q.a,{alt:"Natacha",src:"https://avatars0.githubusercontent.com/u/9919?s=280&v=4"}),component:"a",className:e.chip}),r.a.createElement(Z.a,{label:"Sign Up with E-Mail",clickable:!0,href:"/signUp",component:"a",className:e.chip})))))}}]),t}(n.Component),te=Object(N.d)(Object(j.b)(function(e){return{token:e.user.getToken,isAuthenticated:e.user.isAuthenticated,redirectTo:e.user.redirectTo}},function(e){return{}}),Object(S.withStyles)(R))(ee),ae=a(39),ne=a.n(ae),re=a(118),se=a.n(re),oe={myPaper:{margin:"20px 0px",padding:"20px"}},ie=Object(j.b)(null,function(e){return{DeletePost:function(t){return e(function(e){return function(t,a){return U.post("/api/posts/delete/".concat(e)).then(function(){t({type:"DELETE_POST",id:e})})}}(t))}}})(function(e){var t=e.DeletePost,a=e.posts;return r.a.createElement("div",null,a.map(function(e,a){return r.a.createElement($.a,{key:a,style:oe.myPaper},r.a.createElement(ne.a,{variant:"h6",component:"h3"},e.title),r.a.createElement(ne.a,{component:"p"},e.post_content,r.a.createElement("h5",null," by: ",e.username),r.a.createElement(ne.a,{color:"textSecondary"},se()(e.createdAt).calendar())),r.a.createElement(w.a,{variant:"outlined",color:"primary",type:"submit",onClick:(n=e.id,function(){t(n)})},"Remove"));var n}))}),le={myPaper:{margin:"20px 0px",padding:"20px"},wrapper:{padding:"0px 60px"}},ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],loading:!0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(A.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.GetPosts();case 2:this.setState({loading:!1}),t=this.props.myPosts,t,console.log(t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading,t=this.props.myPosts;return this.props.isAuthenticated?e?"loading...":r.a.createElement("div",{className:"App",style:le.wrapper},r.a.createElement("h1",null," Posts "),r.a.createElement(ie,{posts:t})):r.a.createElement(D.a,{to:"/signIn"})}}]),t}(n.Component),ue=Object(z.a)(Object(j.b)(function(e){return{isAuthenticated:e.user.isAuthenticated,myPosts:e.post.posts}},function(e,t){return{GetPosts:function(){return e(function(e,t){return U.get("/api/posts/myPosts").then(function(t){var a=t.data;console.log(a),e({type:"GET_POSTS",data:a})})})}}})(ce)),pe={myPaper:{margin:"20px 0px",padding:"20px"},wrapper:{padding:"0px 60px"}},me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUsers=Object(A.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({users:n,loading:!1}),console.log(a.state.users);case 8:case"end":return e.stop()}},e,this)})),a.state={users:[],loading:!0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.users;return t?"loading...":r.a.createElement("div",{className:"App",style:pe.wrapper},r.a.createElement("h1",null," Welcome"),a.map(function(e,t){return r.a.createElement($.a,{key:t,style:pe.myPaper},r.a.createElement(ne.a,{variant:"h6",component:"h3"},e.username),r.a.createElement(ne.a,{component:"p"},e.email))}))}}]),t}(n.Component),de=a(48),he=a.n(de),ge=a(119),fe=a.n(ge),Ee={myPaper:{margin:"20px 0px",padding:"20px"},wrapper:{padding:"0px 60px"}},be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={first_name:"",last_name:"",email:"",username:"",password:"",isLoading:!0,deleted:!1,error:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App",style:Ee.wrapper},r.a.createElement("h1",null," Welcome"))}}]),t}(n.Component),ve=Object(N.d)(Object(j.b)(function(e){return{isAuthenticated:e.user.isAuthenticated}},null))(be),we=a(32),ye={margin:"1em",fontSize:"24px"},Oe={pageTitle:"Update Password Screen"},je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.updatePassword=function(e){var t=localStorage.getItem("JWT");null===t?a.setState({loadingUser:!1,error:!0}):(e.preventDefault(),k.a.put("/api/users/updatePassword",{username:a.state.username,password:a.state.password},{headers:{Authorization:"JWT ".concat(t)}}).then(function(e){"password updated"===e.data.message&&a.setState({updated:!0,error:!1,loadingUser:!1})}).catch(function(e){console.log(e.response.data),a.setState({updated:!1,error:!0,loadingUser:!1})}))},a.state={username:"",password:"",loadingUser:!1,updated:!1,error:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadingUser:!0});var t=localStorage.getItem("JWT");null===t?this.setState({loadingUser:!1,error:!0}):k.a.get("/api/users/findUser",{params:{username:this.props.match.params.username},headers:{Authorization:"JWT ".concat(t)}}).then(function(t){e.setState({loadingUser:!1,username:t.data.username,password:t.data.password,error:!1})}).catch(function(t){console.log(t.response.data),e.setState({loadingUser:!1,error:!0})})}},{key:"render",value:function(){var e=this.state,t=(e.username,e.password),a=e.updated,n=e.error,s=e.loadingUser;return n?r.a.createElement("div",null,r.a.createElement(he.a,{title:Oe}),r.a.createElement("p",{style:ye},"There was a problem accessing your data. Please go login again.")):!1!==s?r.a.createElement("div",null,r.a.createElement(he.a,{title:Oe}),r.a.createElement("p",{style:ye},"Loading user data...")):!1===s&&!0===a?r.a.createElement(D.a,{to:"/dashboard"}):!1===s?r.a.createElement("div",null,r.a.createElement(he.a,{title:Oe}),r.a.createElement("form",{className:"profile-form",onSubmit:this.updatePassword},r.a.createElement(b.a,{id:"password",label:"password",value:t,onChange:this.handleChange("password"),type:"password"}),r.a.createElement(w.a,{variant:"outlined",type:"submit"},"Save Changes"))):void 0}}]),t}(n.Component),Se={myPaper:{margin:"20px 0px",padding:"20px"},wrapper:{padding:"0px 60px"},textF:{width:"500px"}},Ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(g.a)({},t,a.target.value))}},e.updatePassword=function(t){t.preventDefault();var a=e.state,n={username:a.username,password:a.password};e.props.updatePass(n)},e.state={username:"",password:"",confirmPassword:"",update:!1,isLoading:!0,error:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(P.a.mark(function e(){var t=this;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/reset",{params:{resetPasswordToken:this.props.match.params.token}}).then(function(e){console.log(e),"password reset link a-ok"===e.data.message&&t.setState({username:e.data.username,update:!1,isLoading:!1,error:!1})}).catch(function(e){console.log(e.response.data),t.setState({update:!1,isLoading:!1,error:!0})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.password;e.error,e.isLoading,e.updated;return r.a.createElement("div",{className:"App",style:Se.wrapper},r.a.createElement("h1",null," Update Password"),this.props.updated&&r.a.createElement("div",null,r.a.createElement("p",null,this.props.updated)),r.a.createElement("form",{className:"password-form",onSubmit:this.updatePassword},r.a.createElement(b.a,{id:"Password",label:"Password",style:Se.textF,onChange:this.handleChange("password"),value:t,type:"password"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{color:"primary",variant:"outlined",type:"submit"},"Update Password")))}}]),t}(n.Component),Pe=Object(z.a)(Object(j.b)(function(e){return{updated:e.account.update,isLoading:e.account.isLoading}},function(e){return{Reset:function(){return e(function(){var e=Object(A.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("/api/users/reset",{params:{resetPasswordToken:(void 0).props.match.params.token}}).then(function(e){console.log(e),"password reset link a-ok"===e.data.message&&t({type:"RESET"})}).catch(function(e){console.log(e.response.data),t({type:"RESET_FAIL",err:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},updatePass:function(t){return e(function(e){return function(t){U.put("/api/users/updatePasswordViaEmail",{username:e.username,password:e.password}).then(function(a){console.log(a),t({type:"UPDATEPASS",creds:e})}).catch(function(e){t({type:"UPDATEPASS_FAIL",err:e})})}}(t))}}})(Ce)),Ae=Object(we.a)({forceRefresh:!0}),xe=function(e){e.preventDefault(),U.get("http://localhost:8000/api/users/logout",{withCredentials:!0}).then(function(e){200===e.status&&(localStorage.removeItem("auth"),localStorage.removeItem("myAuth"),Ae.push("/"))}).catch(function(e){localStorage.removeItem("auth"),localStorage.removeItem("myAuth"),Ae.push("/")})},ke=Object(N.d)(Object(j.b)(function(e){return{token:e.user.getToken,githubAuth:e.user.githubAuth,isAuthenticated:e.user.isAuthenticated}},function(e){return{}}),Object(S.withStyles)(R))(function(e){var t=e.classes,a=e.isAuthenticated;return r.a.createElement(m.a,{history:Ae},r.a.createElement("div",{className:t.navRoot},r.a.createElement(he.a,{position:"static",className:t.navbar},r.a.createElement(fe.a,null,r.a.createElement(ne.a,{variant:"h6",color:"inherit"},"Express Seqeuelize App"),r.a.createElement(ne.a,{classcolor:"inherit",className:t.rightt},!a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{to:"/",className:t.rightToolbar},"Home")),a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{className:t.rightToolbar,to:"/posts"},"Posts")),!a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{to:"/signUp",className:t.rightToolbar},"Sign Up")),!a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{to:"/signIn",className:t.rightToolbar},"Sign In")),a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{className:t.rightToolbar,to:"/Post"},"New Post")),a&&r.a.createElement(w.a,null,r.a.createElement(d.a,{to:"/dashboard",className:t.rightToolbar},"Dashboard")),a&&r.a.createElement(w.a,{onClick:xe},"LogOut")))),r.a.createElement(h.a,{exact:!0,path:"/signUp",component:L}),r.a.createElement(h.a,{exact:!0,path:"/",component:te}),r.a.createElement(h.a,{exact:!0,path:"/signIn",component:W}),r.a.createElement(h.a,{exact:!0,path:"/Post",component:B}),r.a.createElement(h.a,{exact:!0,path:"/Posts",component:ue}),r.a.createElement(h.a,{path:"/Forgot",component:H}),r.a.createElement(h.a,{path:"/users",component:me}),r.a.createElement(h.a,{exact:!0,path:"/logout"}),r.a.createElement(h.a,{exact:!0,path:"/dashboard",component:ve}),r.a.createElement(h.a,{path:"/test"}),r.a.createElement(h.a,{path:"/reset/:token",component:Pe}),r.a.createElement(h.a,{exact:!0,path:"/updatePassword/:username",component:je})))}),Te=a(120),Ue=a.n(Te),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:"",isAuthenticated:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){if(null!=localStorage.auth){I(localStorage.auth);var e=localStorage.getItem("auth"),t=Ue()(e);this.props.setCurrentUser(t)}}},{key:"render",value:function(){var e=this.props;e.classes,e.isAuthenticated;return r.a.createElement("div",{className:"App"},r.a.createElement(ke,null))}}]),t}(n.Component),De=Object(N.d)(Object(j.b)(function(e){return{isAuthenticated:e.user.isAuthenticated,owl:e.user.owl}},function(e){return{getUser:function(){return e(function(){var e=Object(A.a)(P.a.mark(function e(t,a){var n,r;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("/api/users/current_user",{withCredentials:"same-origin"});case 2:n=e.sent,r=n.data.auth,console.log(r),localStorage.setItem("myAuth",r),t({type:"GET_CURRENT_USER",data:r});case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},setCurrentUser:function(){return e({type:"GET_USER",payload:t});var t}}}),Object(S.withStyles)(R))(Ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(121),Re={authError:null,isAuthenticated:localStorage.getItem("auth"),githubAuth:localStorage.getItem("gitAuth"),token:null,user:[],owl:localStorage.getItem("myAuth"),redirectPath:null},_e={post:[],postError:null,posts:[]},Le={showError:!1,messageFromServer:null,showNullError:null,username:null,update:null,isLoading:!1,error:!1,errorMessage:null},Fe=Object(N.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return console.log(t.payload),Object(f.a)({},e,{user:t.user,token:t.payload,isAuthenticated:t.isAuthenticated});case"LOG_FAIL":return Object(f.a)({},e,{authError:t.err.response.data});case"GET_USER":return Object(f.a)({},e);case"GET_CURRENT_USER":return Object(f.a)({},e,{owl:t.data.owl});case"REG_SUCCESS":return Object(f.a)({},e,{user:t.user,token:t.payload});case"REG_FAIL":return Object(f.a)({},e,{authError:t.err.response.data});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_SUCC":return Object(f.a)({},e,{post:t.post});case"POST_FAIL":return Object(f.a)({},e,{postError:t.err.response.data});case"GET_POSTS":return Object(f.a)({},e,{posts:t.data});case"DELETE_POST":return Object(f.a)({},e,{posts:e.posts.filter(function(e){return e.id!==t.id})});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT":return Object(f.a)({},e,{showError:!1,messageFromServer:"recovery email sent"});case"FORGET_ERR":return Object(f.a)({},e,{showError:!0,messageFromServer:"",showNullError:!1});case"RESET":return Object(f.a)({},e,{username:t.creds.username,update:!1,isLoading:!1,error:!1});case"RESET_FAIL":return Object(f.a)({},e,{update:!1,isLoading:!1,error:!0});case"UPDATEPASS":return Object(f.a)({},e,{update:"Your password has been successfully reset, please try logging in again",error:!1});case"UPDATEPASS_FAIL":return Object(f.a)({},e,{update:"Please Enter An Email",error:!0});default:return e}}}),Ge=Object(S.createMuiTheme)({palette:{primary:{light:"#757ce8",main:"#7986cb"},secondary:{main:"#9fa8da"}}}),We=Object(N.a)(Ne.a)(N.e)(Fe);o.a.render(r.a.createElement(j.a,{store:We},r.a.createElement(m.a,null,r.a.createElement(S.MuiThemeProvider,{theme:Ge},r.a.createElement(De,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,2,1]]]);
//# sourceMappingURL=main.31011f0d.chunk.js.map